{% extends "base.html" %}
{% block content %}
<h1>Libros disponibles</h1>

<!-- Formulario de búsqueda -->
<form method="POST" class="search-form">
    <input type="text" name="search" value="{{ termino_busqueda }}" 
            placeholder="Buscar libros por título, autor o ISBN...">
    <button type="submit">Buscar</button>
</form>

<!-- Grid de libros -->
<div class="libros-grid">
    {% for libro in libros %}
    <div class="libro-card">
        <div class="libro-card-content">
            <h2>{{ libro.titulo }}</h2>
            <p>Autor: {{ libro.autor }}</p>
            <p>ISBN: {{ libro.isbn }}</p>
            <p>Estado: {{ 'Disponible' if libro.disponible else 'No disponible' }}</p>
            {% if libro.disponible %}
                <a href="{{ url_for('prestar', isbn=libro.isbn) }}" class="btn btn-sm btn-primary">Prestar</a>
            {% else %}
                <a href="{{ url_for('devolver', isbn=libro.isbn) }}" class="btn btn-sm btn-success">Devolver</a>
            {% endif %}
        </div>
    </div>
    {% else %}
    <p class="no-results">No se encontraron libros.</p>
    {% endfor %}
</div>
{% endblock %}